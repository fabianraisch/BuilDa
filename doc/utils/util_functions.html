<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.6">
<title>src.utils.util_functions API documentation</title>
<meta name="description" content="">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source > summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible;min-width:max-content}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin:1em 0}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
/* Collapse source docstrings */
setTimeout(() => {
[...document.querySelectorAll('.hljs.language-python > .hljs-string')]
.filter(el => el.innerHTML.length > 200 && ['"""', "'''"].includes(el.innerHTML.substring(0, 3)))
.forEach(el => {
let d = document.createElement('details');
d.classList.add('hljs-string');
d.innerHTML = '<summary>"""</summary>' + el.innerHTML.substring(3);
el.replaceWith(d);
});
}, 100);
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>src.utils.util_functions</code></h1>
</header>
<section id="section-intro">
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="src.utils.util_functions.df_findcol"><code class="name flex">
<span>def <span class="ident">df_findcol</span></span>(<span>df, sstr, b_ignorecase=True)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def df_findcol(df,sstr,b_ignorecase=True):
    &#39;&#39;&#39;
    Search for columns in a pandas DataFrame that match a specified search string.

    Parameters:
    df (pd.DataFrame): The DataFrame to search within.
    sstr (str): The search string to match against column names.
    b_ignorecase (bool): If True, the search will be case-insensitive; otherwise, it will be case-sensitive.

    Returns:
    pd.DataFrame: A DataFrame containing only the columns that match the search string.
    &#39;&#39;&#39;
    return df.loc[:,df.columns.str.contains(sstr,case=not(b_ignorecase))]</code></pre>
</details>
<div class="desc"><p>Search for columns in a pandas DataFrame that match a specified search string.</p>
<p>Parameters:
df (pd.DataFrame): The DataFrame to search within.
sstr (str): The search string to match against column names.
b_ignorecase (bool): If True, the search will be case-insensitive; otherwise, it will be case-sensitive.</p>
<p>Returns:
pd.DataFrame: A DataFrame containing only the columns that match the search string.</p></div>
</dd>
<dt id="src.utils.util_functions.get_controller_by_string"><code class="name flex">
<span>def <span class="ident">get_controller_by_string</span></span>(<span>s:Â str)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_controller_by_string(s: str):
    &#39;&#39;&#39;
    Function to get a certain controller by providing an identifying string.

    Args: 
        - s [str]: strings that identifies the controller needed.

    Returns: The corresponding controller given by the string. If a controller wasn&#39;t found, raise error.
    &#39;&#39;&#39;
    #%%controllers
    from src.controllers.controller import Controller
    #custom classes
    from src.controllers.custom_controllers.PController_heating import PController_heating
    from src.controllers.custom_controllers.PIController_heating import PIController_heating
    from src.controllers.custom_controllers.TwoPointController_cooling import TwoPointController_cooling
    from src.controllers.custom_controllers.TwoPointController_heating import TwoPointController_heating
    from src.controllers.custom_controllers.TwoPointController_windowOpening import TwoPointController_windowOpening
    from src.controllers.custom_controllers.RandomSchedulePController import RandomSchedulePController
    from src.controllers.custom_controllers.PIController_cooling import PIController_cooling
    if s == &#34;TwoPointController_heating&#34;:
        return TwoPointController_heating()
    elif s == &#34;TwoPointController_windowOpening&#34;:
        return TwoPointController_windowOpening()
    elif s == &#34;TwoPointController_cooling&#34;:
        return TwoPointController_cooling()
    elif s == &#34;PIController_heating&#34;:
        return PIController_heating()
    elif s == &#34;PIController_cooling&#34;:
        return PIController_cooling()
    elif s == &#34;PController_heating&#34;:
        return PController_heating()
    elif s == &#34;RandomSchedulePController&#34;:
        return RandomSchedulePController()
    # to add new controller, import class above and insert:
    # elif s == &#34;&lt;my_controller&gt;&#34;:
    #     return &lt;my_controller&gt;()

    else:     
        raise ValueError(f&#34;No controller with name {s} found&#34;)
    return controllers</code></pre>
</details>
<div class="desc"><p>Function to get a certain controller by providing an identifying string.</p>
<p>Args:
- s [str]: strings that identifies the controller needed.</p>
<p>Returns: The corresponding controller given by the string. If a controller wasn't found, raise error.</p></div>
</dd>
<dt id="src.utils.util_functions.get_converter_function_by_string"><code class="name flex">
<span>def <span class="ident">get_converter_function_by_string</span></span>(<span>s:Â str)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_converter_function_by_string(s: str):
    &#39;&#39;&#39;&#39;
    Function to get a certain converter function by providing an identifying string.

    Args:
        - s [str] the string identifying the converter function.

    Returns: A converter function if there exists one with this string.
    &#39;&#39;&#39;
    #%%converter functions
    from src.converter_functions.converter_function import ConverterFunction
    #custom classes
    from src.converter_functions.custom_converter_functions.Component_properties_calculator import Component_properties_calculator
    from src.converter_functions.custom_converter_functions.Link_resolver import Link_resolver
    from src.converter_functions.custom_converter_functions.Miscellaneous_handler import Miscellaneous_handler
    from src.converter_functions.custom_converter_functions.Model_compatibility_layer import Model_compatibility_layer
    from src.converter_functions.custom_converter_functions.Nominal_heating_power_calculator import Nominal_heating_power_calculator
    from src.converter_functions.custom_converter_functions.Nominal_cooling_power_calculator import Nominal_cooling_power_calculator
    from src.converter_functions.custom_converter_functions.RC_Distribution_Configurator import RC_Distribution_Configurator
    from src.converter_functions.custom_converter_functions.Zone_dimensions_calculator import Zone_dimensions_calculator
    if s == &#34;Link_resolver&#34;:
        return Link_resolver()
    if s == &#34;Miscellaneous_handler&#34;:
        return Miscellaneous_handler()
    if s == &#34;Zone_dimensions_calculator&#34;:
        return Zone_dimensions_calculator()
    if s == &#34;Component_properties_calculator&#34;:
        return Component_properties_calculator()
    if s == &#34;Nominal_heating_power_calculator&#34;:
        return Nominal_heating_power_calculator() 
    if s == &#34;Nominal_cooling_power_calculator&#34;:
        return Nominal_cooling_power_calculator()
    if s == &#34;RC_Distribution_Configurator&#34;:
        return RC_Distribution_Configurator()
    if s == &#34;Model_compatibility_layer&#34;:
        return Model_compatibility_layer()
    # to add new converter function, import class above and insert:
    # elif s == &#34;&lt;my_converter_function&gt;&#34;:
    #     return &lt;my_converter_function&gt;()

    raise ValueError(f&#34;No converter function with name {s} found&#34;)</code></pre>
</details>
<div class="desc"><p>'
Function to get a certain converter function by providing an identifying string.</p>
<h2 id="args">Args</h2>
<ul>
<li>s [str] the string identifying the converter function.
Returns: A converter function if there exists one with this string.</li>
</ul></div>
</dd>
<dt id="src.utils.util_functions.get_step_size_arr"><code class="name flex">
<span>def <span class="ident">get_step_size_arr</span></span>(<span>start_time,<br>stop_time,<br>writer_step_size,<br>controller_step_size,<br>max_permitted_time_step)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_step_size_arr(start_time, stop_time, writer_step_size, controller_step_size, max_permitted_time_step):
    &#39;&#39;&#39;
    Generates a list halting points for the simulation.

    This function computes the halting points in the simulation based on 
    the specified writing intervals and external controller input intervals. 
    It returns a list of step widths between consecutive halting points.

    Parameters:
        start_time (int): The start time of the simulation.
        stop_time (int): The end time of the simulation.
        writer_step_size (int): The time interval for writing output.
        controller_step_size (int): The time interval for external controller input.
        max_permitted_time_step (int): This parameter defines the maximum allowable 
            time step, expressed in seconds, that is consistent with the resolution 
            of the external input files. It ensures that the time intervals between 
            solver steps do not exceed this threshold, thereby ensuring, that all 
            events defined by the external input files are seen by the model. 
            In contrast to writer_step_size, it doesn&#39;t affect the the ability for events
            to be seen by the user in the results.
    Returns:
        list: A list of step widths between sorted halting points.

    Raises:
        ValueError: If start_time is greater than stop_time or if step sizes are non-positive.
    &#39;&#39;&#39;
    writer_halting_point_array = [i for i in range(start_time, stop_time + 1, writer_step_size)]
    controller_halting_point_array = [i for i in range(start_time, stop_time + 1, controller_step_size)]
    if max_permitted_time_step &lt; min(writer_step_size, controller_step_size):
        required_halting_point_array=[i for i in range(start_time,stop_time+1, max_permitted_time_step)]
        print(f&#34;##Creating additional halting points because max_permitted_time_step(={max_permitted_time_step} s, based on model input files) is smaller than writer_step_size and controller_step_size&#34;)
    else:
        required_halting_point_array=[]
    halting_point_set = set(writer_halting_point_array) | set(controller_halting_point_array) | set(required_halting_point_array)
    sorted_halting_point_list = sorted(list(halting_point_set))
    step_list = [sorted_halting_point_list[i] - sorted_halting_point_list[i-1] for i in range(1, len(sorted_halting_point_list))]

    return step_list</code></pre>
</details>
<div class="desc"><p>Generates a list halting points for the simulation.</p>
<p>This function computes the halting points in the simulation based on
the specified writing intervals and external controller input intervals.
It returns a list of step widths between consecutive halting points.</p>
<h2 id="parameters">Parameters</h2>
<p>start_time (int): The start time of the simulation.
stop_time (int): The end time of the simulation.
writer_step_size (int): The time interval for writing output.
controller_step_size (int): The time interval for external controller input.
max_permitted_time_step (int): This parameter defines the maximum allowable
time step, expressed in seconds, that is consistent with the resolution
of the external input files. It ensures that the time intervals between
solver steps do not exceed this threshold, thereby ensuring, that all
events defined by the external input files are seen by the model.
In contrast to writer_step_size, it doesn't affect the the ability for events
to be seen by the user in the results.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>list</code></dt>
<dd>A list of step widths between sorted halting points.</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>ValueError</code></dt>
<dd>If start_time is greater than stop_time or if step sizes are non-positive.</dd>
</dl></div>
</dd>
<dt id="src.utils.util_functions.load_hygienicalWindowOpening_data"><code class="name flex">
<span>def <span class="ident">load_hygienicalWindowOpening_data</span></span>(<span>tr)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def load_hygienicalWindowOpening_data(tr):
    &#39;&#39;&#39;
    Load hygienicalWindowOpening data from a specified file.

    Parameters:
    tr (dict): A dictionary containing the key  &#39;hygienicalWindowOpening.fileName&#39; with the path to the internal gain data file.

    Returns:
    pd.DataFrame: A DataFrame with hygienicalWindowOpening data, indexed by time starting from January 1, 2025.
    &#39;&#39;&#39;
    fname=tr[&#34;hygienicalWindowOpening.fileName&#34;]
    if isinstance(fname,list): fname=fname[0]
    df=pd.read_csv(fname,sep=&#34;\t&#34;,skiprows=[1],index_col=0)
    df.index=pd.to_timedelta(df.index,unit=&#34;min&#34;)+pd.to_datetime(&#34;2025-1-1&#34;)
    return df</code></pre>
</details>
<div class="desc"><p>Load hygienicalWindowOpening data from a specified file.</p>
<p>Parameters:
tr (dict): A dictionary containing the key
'hygienicalWindowOpening.fileName' with the path to the internal gain data file.</p>
<p>Returns:
pd.DataFrame: A DataFrame with hygienicalWindowOpening data, indexed by time starting from January 1, 2025.</p></div>
</dd>
<dt id="src.utils.util_functions.load_internalGain_data"><code class="name flex">
<span>def <span class="ident">load_internalGain_data</span></span>(<span>tr)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def load_internalGain_data(tr):
    &#39;&#39;&#39;
    Load internal gain data from a specified file.

    Parameters:
    tr (dict): A dictionary containing the key &#39;internalGain.fileName&#39; with the path to the internal gain data file.

    Returns:
    pd.DataFrame: A DataFrame with internal gain data, indexed by time starting from January 1, 2025.
    &#39;&#39;&#39;
    fname=tr[&#34;internalGain.fileName&#34;]
    if isinstance(fname,list): fname=fname[0]
    df=pd.read_csv(fname,sep=&#34;\t&#34;,skiprows=[1],index_col=0)
    df.index=pd.to_timedelta(df.index,unit=&#34;h&#34;)+pd.to_datetime(&#34;2025-1-1&#34;)
    return df</code></pre>
</details>
<div class="desc"><p>Load internal gain data from a specified file.</p>
<p>Parameters:
tr (dict): A dictionary containing the key 'internalGain.fileName' with the path to the internal gain data file.</p>
<p>Returns:
pd.DataFrame: A DataFrame with internal gain data, indexed by time starting from January 1, 2025.</p></div>
</dd>
<dt id="src.utils.util_functions.load_json"><code class="name flex">
<span>def <span class="ident">load_json</span></span>(<span>path)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def load_json(path):

    &#39;&#39;&#39; Load the config json file from the filepath.

    Arguments: none.

    Returns:
        the loaded configuration dictionary.
    &#39;&#39;&#39;

    to_return = dict()

    #read json file
    json_str_raw=open(path).read()
    #filter c-style comments
    json_str=re.sub(r&#34;//.*&#34;,&#34;&#34;,json_str_raw)
    #parse json string
    to_return = json.loads(json_str)

    #extend wildcard filepaths (if applicable) to plain paths
    for k in to_return[&#34;variations&#34;].keys():
        if &#34;fileName&#34; in k:
            paths_total=[]
            paths_unresolved=to_return[&#34;variations&#34;][k]
            for path_unresolved in paths_unresolved:
                #use wildcard resolution only if path contains wildcard patterns 
                #(thus, the fmu will still throw an error if a path doesn&#39;t exists)
                if &#34;?&#34; in path_unresolved or &#34;*&#34; in path_unresolved:  
                    paths_total+=glob.glob(path_unresolved)
                else: paths_total+=[path_unresolved]
            to_return[&#34;variations&#34;][k]=paths_total
    
    #parse time configuration parameters for simulation, if they are in string format
    for time_parameter_key in [&#34;controller_step_size&#34;,&#34;start_time&#34;,&#34;stop_time&#34;,&#34;writer_step_size&#34;]:
        if isinstance(to_return[time_parameter_key],str):
            to_return[time_parameter_key]=parse_duration(to_return[time_parameter_key])
    return to_return</code></pre>
</details>
<div class="desc"><p>Load the config json file from the filepath.</p>
<p>Arguments: none.</p>
<h2 id="returns">Returns</h2>
<p>the loaded configuration dictionary.</p></div>
</dd>
<dt id="src.utils.util_functions.load_weather_data"><code class="name flex">
<span>def <span class="ident">load_weather_data</span></span>(<span>tr)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def load_weather_data(tr):
    &#39;&#39;&#39;
    Load weather data from a Modelica weather file.

    Parameters:
    tr (dict): A dictionary containing the key &#39;weaDat.fileName&#39; with the path to the weather data file.

    Returns:
    pd.DataFrame: A DataFrame with weather data, indexed by time starting from January 1, 2025, 
                and columns named according to the file header.
    &#39;&#39;&#39;
    fname=tr[&#34;weaDat.fileName&#34;]
    if isinstance(fname,list): fname=fname[0]
    header=open(fname,&#34;r&#34;).read().split(&#34;\n&#34;)[11:40]
    df=pd.read_csv(fname, sep=&#39;\t&#39;, decimal=&#39;.&#39;, skiprows=40,header=None,index_col=0).iloc[:,0:29]
    df.columns=header
    df.index=pd.to_timedelta(df.index,unit=&#34;s&#34;)+pd.to_datetime(&#34;2025-1-1&#34;)
    return df</code></pre>
</details>
<div class="desc"><p>Load weather data from a Modelica weather file.</p>
<p>Parameters:
tr (dict): A dictionary containing the key 'weaDat.fileName' with the path to the weather data file.</p>
<p>Returns:
pd.DataFrame: A DataFrame with weather data, indexed by time starting from January 1, 2025,
and columns named according to the file header.</p></div>
</dd>
<dt id="src.utils.util_functions.parse_duration"><code class="name flex">
<span>def <span class="ident">parse_duration</span></span>(<span>duration:Â str) â>Â int</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def parse_duration(duration:str)-&gt;int:
        &#39;&#39;&#39;Parses duration for simulation stop time from strings like 1d, 1y, etc. into seconds.
        
        Parameters:
            - duration (str): duration in string format
        Returns:
            - duration in seconds (int)&#39;&#39;&#39;
        factors_str=duration.lower().replace(&#34;s&#34;,&#34;,1&#34;).replace(&#34;min&#34;,&#34;,60&#34;).replace(&#34;h&#34;,&#34;,3600&#34;).replace(&#34;d&#34;,&#34;,86400&#34;).replace(&#34;w&#34;,&#34;,604800&#34;).replace(&#34;y&#34;,&#34;,31536000&#34;).split(&#34;,&#34;)
        try:
            factors=[float(factor) for factor in factors_str]
            product=factors[0]*factors[1]
        except:
            raise ValueError(f&#34;Time parameter in config JSON in string format which has value &#39;{duration}&#39; cannot be parsed as time period. If parameter is specified in string format, an number followed by one of the units s,min,h,d,w,y should be specified.&#34;)
        product=round(product) #only entire seconds
        return product</code></pre>
</details>
<div class="desc"><p>Parses duration for simulation stop time from strings like 1d, 1y, etc. into seconds.</p>
<h2 id="parameters">Parameters</h2>
<ul>
<li>duration (str): duration in string format</li>
</ul>
<h2 id="returns">Returns</h2>
<ul>
<li>duration in seconds (int)</li>
</ul></div>
</dd>
<dt id="src.utils.util_functions.setup_paths"><code class="name flex">
<span>def <span class="ident">setup_paths</span></span>(<span>user_config:Â dict)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def setup_paths(user_config:dict):
    &#39;&#39;&#39;
    Sets up paths for the configuration file, FMU, and output directory.

    Parameters:
        user_config (dict): A dictionary containing user-defined configuration parameters.

    Returns:
        - config_path (str): The path to the configuration JSON file.
        - fmu_path (str): The path to the FMU file.
        - output_path (str): The path to the output directory.

    Raises:
        OSError: If no FMU is defined for the current operating system.
    &#39;&#39;&#39;
    try:
        config_path = [parameter for parameter in sys.argv[1:] if parameter.lower().endswith(&#34;.json&#34;)][0]
    except IndexError:
        config_path = os.path.join(&#34;resources&#34;,&#34;configurations&#34;, user_config[&#34;config_name&#34;])

    try:
        fmu_path = [parameter for parameter in sys.argv[1:] if parameter.lower().endswith(&#34;.fmu&#34;)][0]
    except IndexError:
        if sys.platform==&#34;win32&#34;:   fmu_name=user_config[&#34;fmu_name_windows&#34;]
        elif sys.platform==&#34;linux&#34;: fmu_name=user_config[&#34;fmu_name_linux&#34;]
        
        else: raise OSError(&#34;no FMU defined for OS &#34;+str(sys.platform))
        fmu_path=os.path.join(&#34;resources&#34;,&#34;FMUs&#34;,fmu_name)

    try:
        output_path = [parameter for parameter in sys.argv[1:] if not(parameter.lower().endswith(&#34;.json&#34;) or parameter.lower().endswith(&#34;.fmu&#34;)) ][0]
    except IndexError:
        output_path = user_config[&#34;output_path&#34;]

    return config_path, fmu_path, output_path</code></pre>
</details>
<div class="desc"><p>Sets up paths for the configuration file, FMU, and output directory.</p>
<h2 id="parameters">Parameters</h2>
<p>user_config (dict): A dictionary containing user-defined configuration parameters.</p>
<h2 id="returns">Returns</h2>
<ul>
<li>config_path (str): The path to the configuration JSON file.</li>
<li>fmu_path (str): The path to the FMU file.</li>
<li>output_path (str): The path to the output directory.</li>
</ul>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>OSError</code></dt>
<dd>If no FMU is defined for the current operating system.</dd>
</dl></div>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="src.utils" href="index.html">src.utils</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="src.utils.util_functions.df_findcol" href="#src.utils.util_functions.df_findcol">df_findcol</a></code></li>
<li><code><a title="src.utils.util_functions.get_controller_by_string" href="#src.utils.util_functions.get_controller_by_string">get_controller_by_string</a></code></li>
<li><code><a title="src.utils.util_functions.get_converter_function_by_string" href="#src.utils.util_functions.get_converter_function_by_string">get_converter_function_by_string</a></code></li>
<li><code><a title="src.utils.util_functions.get_step_size_arr" href="#src.utils.util_functions.get_step_size_arr">get_step_size_arr</a></code></li>
<li><code><a title="src.utils.util_functions.load_hygienicalWindowOpening_data" href="#src.utils.util_functions.load_hygienicalWindowOpening_data">load_hygienicalWindowOpening_data</a></code></li>
<li><code><a title="src.utils.util_functions.load_internalGain_data" href="#src.utils.util_functions.load_internalGain_data">load_internalGain_data</a></code></li>
<li><code><a title="src.utils.util_functions.load_json" href="#src.utils.util_functions.load_json">load_json</a></code></li>
<li><code><a title="src.utils.util_functions.load_weather_data" href="#src.utils.util_functions.load_weather_data">load_weather_data</a></code></li>
<li><code><a title="src.utils.util_functions.parse_duration" href="#src.utils.util_functions.parse_duration">parse_duration</a></code></li>
<li><code><a title="src.utils.util_functions.setup_paths" href="#src.utils.util_functions.setup_paths">setup_paths</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.6</a>.</p>
</footer>
</body>
</html>
