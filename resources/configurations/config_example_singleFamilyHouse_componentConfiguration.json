////Comments are filtered before parsing
//Links to other parameters can be set by writing a string of the parameter name instead of the value (but: there's only one iteration of link resolving)
//  This allows for bundling multiple parameter values into a single parameter. Arbitrary parameters can be added to facilitate this.
//Aometimes null can be used as parameter values, to let BuilDa deduce the parameters from other sources

//Configuration of tabula buildig DE.N.SFH.08.Gen
{
    "variations": {
        // zone geometry
            "zone_length":[9.4125], // length of zone from (east to west) in m
            "zone_width":[8],       // width of zone from (north to south) in m
            "floor_height":[3.04],  // heigth of one floor level in m
            "n_floors":[3],         // number or floor levels
        // windows
            "fAWin_south":[0.14056], // window to wall fraction on that geographical direction
            "fAWin_west":[0.14056],  // window to wall fraction on that geographical direction
            "fAWin_north":[0.14056], // window to wall fraction on that geographical direction
            "fAWin_east":[0.14056],  // window to wall fraction on that geographical direction
        // relational factors
            "fATransToAWindow":[0.9],            // factor of transparent window area / overall window area
            "fARoofToAFloor":[1.63612217795485], // factor of roof area / floor area (usually the factor is > 1, indicating inclined roof)
            "fAInt":[1.238235294117647],         // factor of interior wall surfaces (both sides) / exterior wall surfaces
                                                 // e.g. 1.238235294117647. This value is taken from a research apartment of the University of Applied Sciences of Rosenheim 
                                                 // it is calculated by fAInt = ((2.5+7+7)*7/10*2 + (7.7+2.5+3.1)*10/14*2) /34
        
        
        //variable bundling: parameters that are meant to be referenced by other parameters
            //parameter to configure predefined components (leading '#' in parameter name indicates bundling variable
            // and avoids errors in Component_configurator converter function)
            
            //configure e.g., wall constructions like
            // "highHoleBrick1980s","highHoleBrickToday","concreteWithETICS",
            // "solidBrick", "timberConstruction",
            // "baloonFraming", "pumiceAndBrick", "pumiceConcreteWall", 
            // "strawBaleWall", "woodConstructionWall", "heavy","lightweight"
            //  here (parameter can be referenced by UExt, heatCapacity_wall, 
            // extWall_R_distribution, extWall_C_distribution)
            "#extWall_construction":["baloonFraming","pumiceAndBrick", 
                                    "pumiceConcreteWall", "strawBaleWall", "woodConstructionWall",
                                    "heavy","lightweight"],
            //configure e.g., wall constructions like
            // "drywall"
            //  here (parameter can be referenced by UInt, heatCapacity_internalWall, 
            // intWall_R_distribution, intWall_C_distribution)                       
            "#intWall_construction":["drywall"],

        // thermal properties
        "heatCapacity_furniture_per_m2":[2230], //heat capacity of furniture per floor area. The value is calculated by: wood equivalence of capacity m/m² (ida ice assumption) * density of spruce [kg/m³]* heat capacity of spruce [J(kg*K)]
            // building components
                // external walls
                "UExt":["#extWall_construction"],               // U-value of the external walls in W/m²K
                "heatCapacity_wall":["#extWall_construction"], // heat capacity of the external walls [J/m²K]
                // floor
                "UFloor":["heavy"],              // U-value of the floor in W/m²K
                "heatCapacity_floor":["heavy"], // heat capacity of the floor in J/m²K
                // internal walls
                "UInt":["#intWall_construction"],                            // U-value of the internal walls in W/m²K
                "heatCapacity_internalWall":["#intWall_construction"],  // heat capacity of the internal walls [J/m²K]
                // roof
                "URoof":["heavy"],             // U-value of the roof in W/m²K
                "heatCapacity_roof":["heavy"], // heat capacity of the roof in J/m²K
                // windows
                "UWin":[3.2],               // U-value of the windows
                "thermalZone.gWin":[0.7],   // solar heat gain coefficient of windows
            
        //ventilation
        "heatRecoveryRate":[0],     //heat recovery rate of ventilation system. 0 indicates: no heat recovery, e.g., 0.8 indicates heat recovery
        "airChangeRate":[0.3],      //air change rate in zone (through mechanical or natural ventilation) in 1/h

        //heat pump
        "heatingCurve_steepness": [1], // Steepness of the heat curve; higher values indicate a greater increase in supply temperature relative to the difference between outside and inside temperatures. Typical range: 0.2 - 1.5
        "relative_heatPump_efficiency": [0.8], //efficiency of heat pump compared to reference heat pump, used in heat pump model

        // detailled thermal properties
        // convective fractions of heat sources
	//e.g., 1 means, heat flow is completely convective
	//0 means, heat flow is completely radiative
        "internalGainsConvectiveFraction":[0.4],
        "heatingConvectiveFraction":[1],
             

        // external files (wildcard patterns can be used to specify more than one file)
            // path(s) to weather file(s) 
            "weaDat.fileName":["resources/weatherFiles/Munich.mos"],
            // path(s) to internal gain profile file(s). The file gives information, when e.g., persons are causing additional internal heat gains in the zone.
            "internalGain.fileName":["resources/internalGainProfiles/NoActivity.txt"],
            // path(s) to window opening profile file(s). The file gives information, when window is opened, affecting heat exchange with environment.
            "hygienicalWindowOpening.fileName":["resources/hygienicalWindowOpeningProfiles/no_opening.txt"],


        // model internal controller
        "roomTempLowerSetpoint":[18],  //different temperature setpoints (upper setpoint) - used for nocturnal decrease on model internal heating controller
        "roomTempUpperSetpoint":[22],  //different temperature setpoints (lower setpoint) - used for nocturnal decrease on model internal heating controller
        "UseInternalController": [1],  // switches between model internal P-Controller for heating and external heating controller (doesn't affect other controllers configured below). 1: internal controller is used, 0: external controller input
        
        // RC-Element's distribution parameters
        // predefined distribution profiles can be used like 
        // 'monolythic', 
        // 'heavy', 'leightweight' (heavy and leightweigth origin form ASHRAE 140-2004 test cases TC600 and TC900)
        // 'baloonFraming', 'pumiceAndBrick', 'gasConcrete' (origin from predefined wall constructions on https://www.ubakus.de/)            
            "extWall_C_distribution":["#extWall_construction"],            //distribution of heat capacities in component from inside to outside
            "floor_C_distribution":["heavy"],    //distribution of heat capacities in component from inside to outside
            "roof_C_distribution":["heavy"],    //distribution of heat capacities in component from inside to outside

            "extWall_R_distribution":["#extWall_construction"],            //distribution of heat resistances in component from inside to outside
            "floor_R_distribution":["heavy"], //distribution of heat resistances in component from inside to outside
            "roof_R_distribution":["heavy"],//distribution of heat resistances in component from inside to outside

            "intWall_R_distribution":["#intWall_construction"], //distribution of heat resistances in component from inside to outside
            "intWall_C_distribution":["#intWall_construction"], //distribution of heat capacities in component from inside to outside

                
            // heat transfer coefficients (must match to parameters configured statically in the model)
            //CAUTION: Modify only, when heat transfer coefficients in used model have also changed
                "Rsi_extWall":[0.13333333333333333], //=1/(hConv+hRad)=1/(5+2.5) //horizontal heat flow
                "Rsi_intWall":[0.13333333333333333], //=1/(hConv+hRad)=1/(5+2.5) //horizontal heat flow
                "Rsi_floor":[0.17543859649122806],   //=1/(hConv+hRad)=1/(5+0.7) //downward heat flow
                "Rsi_roof":[0.1],                    //=1/(hConv+hRad)=1/(5+5)  //upward heat flow
                "Rse_extWall":[0.04],
                "Rse_roof":[0.04],
                "Rsi_window":[0.13333333333333333],  //=1/(hConv+hRad)=1/(5+2.5) //horizontal heat flow!
                "Rse_window":[0.05],
    

        // parameters for caluclation of nominal heat load (set to null for automatic calculation of parameter)
        "ta_min":[null], //supposed minimum outside temperature
        "ti_set":[null]  //supposed indoor air setpoint temperature
    },
	"variation_type": "cartesian_product",  // available: zip, cartesian_product
    "converter_functions": [
        "Link_resolver",                    // enables resolving of linked parameters (value of first parameter links to another parameter, whose value is used as the actual value for the first parmaeter)
        "Miscellaneous_handler",
        "Model_compatibility_layer",
        "Zone_dimensions_calculator",
        "Component_configurator",
        "RC_Distribution_Configurator",     // resolves to predefined distribution profiles for R and C, if configured so
        "Component_properties_calculator",
        "Nominal_heating_power_calculator",
        "Nominal_cooling_power_calculator"
    ],
    "controller_name": [], //list of controllers, options: 
                                                                            // PController_heating, 
                                                                            // PIController_cooling, 
                                                                            // PIController_heating, 
                                                                            // RandomSchedulePController, 
                                                                            // TwoPointController_cooling, 
                                                                            // TwoPointController_heating, 
                                                                            // TwoPointController_windowOpening 
                                                                            // if more than one controller generates output for the same model interface, the output of the last controller in list is applied
                                                                            // for development of own controllers, edit add a new controller class file to src/controllers/custom_controllers and add it in util_functions.py () 
    //time parameters - can be set as integer in seconds or as a string like 5s, 5min, 5d, 5w, 5y, representing 5 seconds, 5 minutes, 5 days, 5 weeks or 5 yrears in each case                                                                            
    "controller_step_size": 90,	//time step for external controller action
    "start_time": 0,		//simulation start time in model
    "stop_time": "1y", 	//simulation end time in model
    "writer_step_size": 900, 	//time step for extracting data from the model for variables listed in 'columns_included.'
    //time columns to be exported (optional, default is "second_of_day","day_of_year")
                                                                //list of options
                                                                // "second", "minute", "hour", "day", "year" (absolute values)
                                                                // "second_of_day"
                                                                // "day_of_year"
                                                                //"minute_of_day"
                                                                //"day_of_month"
                                                                //"week_of_year"
                                                                //"nanosecond_of_month"
    "time_columns_included":["second_of_day","day_of_year"],
    //list the name of fmu parameter to be exported 
    "columns_included": ["thermalZone.TAir", "totalHeatingPower.y","weaBus.TDryBul","weaBus.HDirNor","weaBus.HDifHor","weaBus.HGloHor"]
}
// other possible columns to export:
    // heat pump: 
    //      "electricalZone.heatPump_air.COP", //COP of heat pump
    //      "electricalZone.heatPump_air.P_el", //actual Power of heat pump (electrical)
    //      "electricalZone.heatingCurve.t_sup", //supply temperature of heat pump
    // heating system:
    //      "roomTempUpperSetpoint", //upper setpoint for internal heating controller (i.e. setpoint during daytime)
    //      "thermalZone.TAir", //indoor air temperature
    //      "totalHeatingPower.y", //heating power emitted from heating system to zone
    //      "totalCoolingPower.y", //cooling power emitted from heating/cooling system to zone
    //      "totalHeatingCoolingPower.y",  //sum of cooling and heating power emitted from heating/cooling system to zone
    //      "Q_heating_MWh.y", //total heating energy in MWh
    //      "Q_cooling_MWh.y", //total cooling energy in MWh
    //      "internalGain.y[1]", //internal gains emitted through persons or electrical devices
    // weather:
    //      "weaBus.TDryBul", //outisde air temperature
    //      "weaBus.TBlaSky", //black sky temperature
    //      "weaBus.HDirNor", //direct noral solar radiation
    //      "weaBus.HDifHor", //diffuse horizontal solar radiation
    //      "weaDat.weaBus.HGloHor", //gobal horizontal solar radiation
    // ventilation heat flows:
    //      "ventilationHeatLosses.Q_flow",
    // detailed heat flows (standard unit is W):
    //      "thermalZone.volAir.heatPort.Q_flow", //heat flow into zone's air volume
    //      "thermalZone.[extWallRC|floorRC|roofRC].thermCapExt[1|2|2].port.Q_flow //heat flow into capacity 1,2 or 3 (choos one of three options) of external wall, floor or roof (choos one of three options)
    //   conductive heat flow from outside into thermal zone's...
    //      "thermalZone.extWall.Q_flow", //...external wall
    //      "thermalZone.window.Q_flow", //...external wall
    //      "thermalZone.roof.Q_flow", //...external roof
    //      "thermalZone.floor.Q_flow", //...external floor
    //  radiative heat flow from heating system and other internal gains to...
    //      "thermalZone.thermSplitterIntGains.portOut[1].Q_flow", //...external walls
    //      "thermalZone.thermSplitterIntGains.portOut[2].Q_flow", //...windows
    //      "thermalZone.thermSplitterIntGains.portOut[3].Q_flow", //...internal walls
    //      "thermalZone.thermSplitterIntGains.portOut[4].Q_flow", //...floor
    //      "thermalZone.thermSplitterIntGains.portOut[5].Q_flow", //...roof
    //  solar gains, that come through windows into zone and are passed to...
    //      "thermalZone.thermSplitterSolRad.portOut[1].Q_flow", //...external walls
    //      "thermalZone.thermSplitterSolRad.portOut[2].Q_flow", //...windows
    //      "thermalZone.thermSplitterSolRad.portOut[3].Q_flow", //...internal walls
    //      "thermalZone.thermSplitterSolRad.portOut[4].Q_flow", //...floor
    //      "thermalZone.thermSplitterSolRad.portOut[5].Q_flow", //...roof
    //  solar gains that come through windows into zone from...
    //      "thermalZone.radHeatSol[1].Q_flow",  //...the south
    //      "thermalZone.radHeatSol[2].Q_flow",  //...the west
    //      "thermalZone.radHeatSol[3].Q_flow",  //...the north
    //      "thermalZone.radHeatSol[4].Q_flow",  //...the east
    

